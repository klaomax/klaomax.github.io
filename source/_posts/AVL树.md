title: AVL
tags:

  - 数据结构
categories:
  - 大二
author: miracle
date: 2020-12-15 00:30:00
---
# 什么是AVL树
AVL树又称平衡二叉搜索树，它能保证二叉树高度相对平衡，尽量降低二叉树的高度，提高搜索效率。单纯的二叉搜索树在最坏的情况下插入查找删除等操作时间复杂度会是O(N)。

# AVL树性质
1. 左子树和右子树的高度之差的绝对值不超过1  
2. 树中的每个左子树和右子树都是AVL树
3. 每个节点都有一个平衡因子(balance factor--bf),任一节点的平衡因子是-1,0,1。(每个节点的平衡因子等于右子树的高度减去左子树的高度 )

# AVL树效率
一棵AVL树有N个节点，其高度可以保持在lgN，插入/删除/查找的时间复杂度也是lgN。

# 旋转

在每一次插入数值之后，树的平衡性都可能被破坏，这时可以通过一个简单的操作来矫正平衡–**旋转**。

旋转的目的就是减少高度，通过降低整棵树的高度来平衡。哪边的树高，就把那边的树向上旋转。

通过旋转可以降低高度。

- **所谓的左旋和右旋**都是以子树为原点的：如b是a的子树，那么旋转就围绕b来进行。
- 如果b是a的左子树，那么就围绕b将a向右旋转，看着就像是a直接掉下来了，掉成了b的右子树。
- 如果b是a的右子树，那么就围绕b将a向左旋转，看着就像是a直接掉下来了，掉成了b的左子树。  

插入节点时分四种情况，四种情况对应的旋转方法是不同的： 

例如对于被破坏平衡的节点 a 来说：



| 插入方式 | 描述                                                  | 旋转方式 |
| -------- | ----------------------------------------------------- | -------- |
| LL       | 在a的**左子树**根节点的**左子树**上插入节点而破坏平衡 | 右旋转   |
| RR       | 在a的**右子树**根节点的**右子树**上插入节点而破坏平衡 | 左旋转   |
| LR       | 在a的**左子树**根节点的**右子树**上插入节点而破坏平衡 | 先左再右 |
| RL       | 在a的**右子树**根节点的**左子树**上插入节点而破坏平衡 | 先右再左 |



1. LL右旋转

   ![](D:%5Cblog%5CmiracleBlog%5Csource%5C_posts%5CAVL%E6%A0%91%5C20180408184858381.png)
   



